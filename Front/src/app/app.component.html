
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid titulo">
  <div class="row align-items-center">
    <div class="col  col-sm-8 col-md-8 col-lg-8 ">
      <h1 class="display-4 tituloH1 ">Reportes DEISA </h1>
    </div>
    <div class="col  col-sm-2 col-md-2 col-lg-2">

    </div>
    <div class="col  col-sm-2 col-md-2 col-lg-2">
      <img src="assets/LOGO_DEISA.jpg" class="img-fluid alinear-derecha" alt="Responsive Image" width="100"
        height="100">
    </div>
  </div>
</div>
<div *ngIf="!result && !flagSpinner" class="container-fluid mt-5  h-50 pt-5">
  <div class="row justify-content-center pt-5">
    <div class="col col-sm-12 col-md-12 col-lg-12 pt-5">
      <h1 class="display-4 text-center">No se encontraron resultados.</h1>
    </div>
  </div>
</div>

<div *ngIf="flagSpinner" class="container-fluid mt-5  h-50 pt-5">
  <div class="row justify-content-center pt-5">
    <div class="col col-sm-12 col-md-12 col-lg-12 pt-5">
      <div class="text-center">
        <div class="spinner-border" style="width: 10rem; height: 10rem;" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="result" class="container-fluid mt-5">
  <div class="row justify-content-center">
    <div class="col col-sm-12 col-md-12 col-lg-12">
      <h1 class="h1 text-center">{{this.razonSocial}}</h1>
    </div>
  </div>
</div>
<div *ngIf="result" class="container-fluid mt-1">
  <div class="row justify-content-center">
    <div class="col col-sm-12 col-md-12 col-lg-12">
      <h1 class="h5 text-center">{{this.numero}}</h1>
    </div>
  </div>
</div>

<div *ngIf="result" class="container-fluid mt-5 ">
  <div class="row justify-content-center">
    <div class="col col-sm-11 col-md-11 col-lg-11">
      <p class="text-justify">
        Bienvenido<br><br>
        Buscando siempre mejorar el servicio con nuestros clientes, en DEISA, hemos incorporado un código QR en cada uno
        de los informes de resultados, que te permitirá su fácil acceso y descargarlos de manera segura, minimizando los
        riesgos, optimizando los tiempos, así como garantizando su autenticidad.
      </p>
    </div>
  </div>
</div>

<div *ngIf="result" class="container-fluid mt-5 ">
  <div class="row justify-content-center ">
    <div class="col col-sm-10 col-md-10 col-lg-10 border  shadow-lg">
      <table mat-table [dataSource]="qrDocumentSelectedList" class="table table-striped table-hover"
        style="width: 100%;">

        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef> Nombre </th>
          <td mat-cell *matCellDef="let documento">
            <button type="button" class=" btn " (click)="seleccionar(documento)">{{documento.nombre}} </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="tipo">
          <th mat-header-cell *matHeaderCellDef> Tipo de archivo </th>
          <td mat-cell *matCellDef="let documento">
            <button type="button" class=" btn " (click)="seleccionar(documento)">{{documento.extension}} </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="fecha">
          <th mat-header-cell *matHeaderCellDef> Fecha de emisión</th>
          <td mat-cell *matCellDef="let documento">
            <button type="button" class=" btn " (click)="seleccionar(documento)">{{documento.date}}</button>
          </td>
        </ng-container>

        <ng-container matColumnDef="qr">
          <th mat-header-cell *matHeaderCellDef> Descargar</th>
          <td mat-cell *matCellDef="let documento">
            <button type="button" class="btn btn-light btn-outline-dark btn-rounded" data-toggle="modal"
              data-target="#exampleModalCenter"
              (click)="descargarId(documento.id,documento.nombre,documento.extension)">Descargar</button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnas"></tr>
        <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
      </table>
    </div>
  </div>
</div>

<div *ngIf="descargaError" class="container-fluid mt-5">
  <div class="row justify-content-center">
    <div class="col col-sm-11 col-md-11 col-lg-11">
      <div class="alert alert-dark" role="alert">
        No se pudo descargar el documento
      </div>
    </div>
  </div>
</div>

<div *ngIf="descargaFalta" class="container-fluid mt-5">
  <div class="row justify-content-center">
    <div class="col col-sm-11 col-md-11 col-lg-11">
      <div class="alert alert-dark" role="alert">
        Aun no se sube el documento
      </div>
    </div>
  </div>
</div>

<div *ngIf="result" class="container-fluid mt-5 ">
  <div class="row justify-content-center mt-5">
    <div class="col col-sm-8 col-md-8 col-lg-8 ">
      <div id="carouselExampleIndicators" class="carousel slide border  shadow-lg" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block "
              src="{{this.imagen1}}"
              alt="First slide">
            <!--div class="carousel-caption carousel-back">
              <h5>Imagen 1</h5>
              <p>If you use this site regularly and would like to help keep the site on the Internet, please consider
                donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any
                sum is appreciated - click here to donate using PayPal. Thank you for your support.</p>
            </div!-->
          </div>
          <div class="carousel-item">
            <img class="d-block "
            src="{{this.sabias1}}" 
              alt="Second slide">
            <!--div class="carousel-caption d-none d-md-block">
              <h5>Imagen 1</h5>
              <p>If you use this site regularly and would like to help keep the site on the Internet, please consider
                donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any
                sum is appreciated - click here to donate using PayPal. Thank you for your support.</p>
            </div!-->
          </div>
          <div class="carousel-item">
            <img class="d-block "
            src="{{this.imagen2}}"
            alt="Third slide">

          </div>
          <div class="carousel-item">
            <img class="d-block "
            src="{{this.sabias2}}"
            alt="Fourth slide">

          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </div>
</div>

<div *ngIf="result" class="container-fluid mt-5 ">
  <div class="row justify-content-center mt-5">
    <div class="col col-sm-8 col-md-8 col-lg-8 ">
      <div class="embed-responsive embed-responsive-16by9">
        <!--iframe class="embed-responsive-item" src="https://www.facebook.com/plugins/video.php?height=476&href=https%3A%2F%2Fwww.facebook.com%2Fdeisacv%2Fvideos%2F187701797401472%2F&show_text=false&width=476&t=0" width="476" height="476" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share" allowFullScreen="true" allowfullscreen></iframe!-->
        
        <iframe src="https://www.facebook.com/plugins/video.php?height=314&href=https%3A%2F%2Fwww.facebook.com%2Fdeisacv%2Fvideos%2F1280035246246319%2F&show_text=false&width=560&t=0" width="560" height="314" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share" allowFullScreen="true"></iframe>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid titulo mt-5 pt-4">
  <div class="row ">
    <div class=" col-sm-12 col-md-2 col-lg-2">
      <div class="row justify-content-left">
        <div class="col  col-sm-12 col-md-12 col-lg-12">
          <img src="assets/LOGO_DEISA.jpg" class="img-fluid alinear-izquierda" alt="Responsive Image" width="100"
            height="100">
        </div>
      </div>
    </div>
    <div class=" col-sm-10 col-md-12 col-lg-10 pt-2">
      <div class="row justify-content-left">
        <div class="col  col-sm-12 col-md-12 col-lg-12">
          <h1 class="h2 pieH1 text-left ">Desarrollo &nbsp;Ecológico &nbsp;Industrial, &nbsp;S.A de C.V</h1>
        </div>
        <div class="col  col-sm-12 col-md-12 col-lg-12">
          <h1 class="h5 pieH1 text-left">Servicio Integral Ambiental, de Higiene, Seguridad y Salud Ocupacional</h1>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col  col-sm-12 col-md-12 col-lg-12">
      <span class="pieSpan">Menú</span>
    </div>
  </div>
  <div class="row mt-0">
    <div class="col  col-sm-6 col-md-3 col-lg-2">
      <span class="pieSpan"><a href="https://www.deisacv.com.mx/">Inicio</a></span>
    </div>
    <div class="col  col-sm-6 col-md-3 col-lg-2">
      <span class="pieSpan"><a href="https://www.deisacv.com.mx/about-2/">Sobre Nosotros</a></span>
    </div>
    <div class="col  col-sm-6 col-md-3 col-lg-2">
      <span class="pieSpan"><a href="https://www.deisacv.com.mx/servicios-generales-deisa/">Servicios</a></span>
    </div>
    <div class="col  col-sm-6 col-md-3 col-lg-2">
      <span class="pieSpan"><a href="https://www.deisacv.com.mx/contact-1/">Contacto</a></span>
    </div>
    <div class="col  col-sm-6 col-md-3 col-lg-2">
      <span class="pieSpan"><a href="https://www.deisacv.com.mx/aviso-de-privacidad/">Aviso de Privacidad</a></span>
    </div>
    <div class="col  col-sm-6 col-md-3 col-lg-2">
      <span class="pieSpan"><a href="https://www.deisacv.com.mx/bolsa-de-trabajo/">Bolsa de trabajo</a></span>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan">VENTAS Y COTIZACIONES</span>
    </div>
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan">QUEJAS Y SUGERENCIAS</span>
    </div>
  </div>
  <div class="row mt-0">
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan"><a href="mailto:ventas@deisacv.com">ventas@deisacv.com
        </a></span>
    </div>
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan">Enviar
        sugerencias y quejas al correo: <br>
        <a href="mailto:calidad@deisacv.com">calidad@deisacv.com</a></span>
    </div>
  </div>

  <div class="row">
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan"><a href="">
        </a></span>
    </div>
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan"><a
          href="https://www.deisacv.com.mx/themencode-pdf-viewer/?file=https://www.deisacv.com.mx/procedimiento-quejas.pdf">Ver
          Procedimiento de quejas.</a></span>
          
    </div>
  </div>

  <div class="row mt-3">
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan">TELÉFONOS</span>
    </div>
    <div class="col  col-sm-6 col-md-6 col-lg-6">
      <span class="pieSpan">Lada sin costo: <a href="tel:+528008369869">800 83-69-869
        </a></span>
    </div>
  </div>

  <div class="row mt-0">
    <div class="col  col-sm-12 col-md-2 col-lg-2">
      <span class="pieSpan"><a href="tel:+525555868402">55-55-86-84-02
        </a></span>
    </div>
    <div class="col  col-sm-12 col-md-2 col-lg-2">
      <span class="pieSpan"><a href="tel:+525555864857">55-55-86-48-57
        </a></span>
    </div>
    <div class="col  col-sm-12 col-md-2 col-lg-2">
      <span class="pieSpan"><a href="tel:+525557527783">55-57-52-77-83
        </a></span>
    </div>
    <div class="col  col-sm-12 col-md-2 col-lg-2">
      <span class="pieSpan"><a href="tel:+525557528364">55-57-52-83-64
        </a></span>
    </div>
    <div class="col  col-sm-12 col-md-2 col-lg-2">
      <span class="pieSpan"><a href="tel:+5255 51 19 21 86">55-51-19-21-86
        </a></span>
    </div>
    <div class="col  col-sm-12 col-md-2 col-lg-2">
      <span class="pieSpan"><a href="tel:+525557524635">55-57-52-46-35
        </a></span>
    </div>
  </div>
  <div class="row mt-0">
    <div class="col  col-sm-12 col-md-12 col-lg-12 align-self-end mt-5">
      <span class="pieSpan text-right alinear-derecha">Laboratorio Ambiental - DEISA - 2020. Todos los derechos
        Reservados.</span>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Introduzca la contraseña para descargar</h5>
        <button id="ModalClose" type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="contraseniaFormGroup">
          <mat-form-field appearance="fill">
            <input matInput oninput="this-value" placeholder="Contraseña" formControlName="contrasenia" maxlength="4"
              type="password" required />
            <mat-error>{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </form>
        <button type="button" class="btn btn-light btn-outline-dark btn-rounded" mat-button
          (click)="validaContrasenia()">
          <span *ngIf="flagDescarga" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Descargar</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isVisible"  class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Introduzca la contraseña para descargar</h5>
        <button id="ModalClose" type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="contraseniaFormGroup">
          <mat-form-field appearance="fill">
            <input matInput oninput="this-value" placeholder="Contraseña" formControlName="contrasenia" maxlength="4"
              type="password" required />
            <mat-error>{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </form>
        <button type="button" class="btn btn-light btn-outline-dark btn-rounded" mat-button
          (click)="validaContrasenia()">
          <span *ngIf="flagDescarga" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Descargar</button>
      </div>
    </div>
  </div>
</div>